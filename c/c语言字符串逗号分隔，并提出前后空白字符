#include <stdio.h>
#include <string.h>
#include <ctype.h>

// 函数用于去除字符串前后的空白字符
char* trimWhitespace(char *str) {
    char *end;

    // 去除前面的空白字符
    while(isspace((unsigned char)*str)) str++;

    if(*str == 0) { // 如果字符串全是空格
        return str;
    }

    // 去除后面的空白字符
    end = str + strlen(str) - 1;
    while(end > str && isspace((unsigned char)*end)) end--;

    // 在末尾添加 null 字符结束符
    *(end+1) = 0;

    return str;
}

int main() {
    char input[] = "  one,  two , three   , four ";
    const char *delim = ",";
    char *token;

    token = strtok(input, delim);
    while (token != NULL) {
        printf("'%s'\n", trimWhitespace(token));
        token = strtok(NULL, delim);
    }

    return 0;
}
